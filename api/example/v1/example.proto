// Code generated by entproto. DO NOT EDIT.
syntax = "proto3";

package example.v1;

import "google/api/annotations.proto";

import "validate/validate.proto";

import "openapiv3/annotations.proto";

import "google/protobuf/wrappers.proto";

option go_package = "github.com/ZQCard/kratos-base-layout/api/example/v1";

option (openapi.v3.document) = {
    info: {
        title: "示例服务",
        version: "0.0.1",
        contact: {
            name: "your name",
            url: "",
            email: ""
        },
        description: "示例服务";
    },
};

// 示例服务
service ExampleService {
    // 列表
    rpc GetExampleList(GetExampleListReq) returns(GetExampleListPageRes){
        option (google.api.http) = { 
            get:"/example"  
        };
    };

    // 详情
    rpc GetExample(ExampleIdReq) returns(Example){
        option (google.api.http) = { 
            get:"/example/{id}"  
        };
    };  

    // 创建
    rpc CreateExample(CreateExampleReq) returns(Example){
        option (google.api.http) = { 
            post:"/example"  
            body:"*"
        };
    };

    // 更新
    rpc UpdateExample(UpdateExampleReq) returns(CheckResponse){
        option (google.api.http) = { 
            put:"/example"  
            body:"*"
        };
    };

    // 删除
    rpc DeleteExample(ExampleIdReq) returns(CheckResponse){
        option (google.api.http) = { 
            delete:"/example"  
        };
    };

    // 恢复
    rpc RecoverExample(ExampleIdReq) returns(CheckResponse){
        option (google.api.http) = { 
            patch:"/example"  
            body:"*"
        };
    };
}

// 请求 - 更新
message UpdateExampleReq {
    // 主键id
    int64 id = 1 [
        (validate.rules).int64.gt = 0
    ];
    // 名称
    string name = 2 [
        (validate.rules).string = {min_len: 1, max_len: 60}
    ];
    // 状态
    bool status = 3;
}

// 请求 - 创建
message CreateExampleReq {
    // 名称
    string name = 1 [
        (validate.rules).string = {min_len: 1, max_len: 60}
    ];
    bool status =2;
}

// 响应 - 示例信息
message Example {
    // 主键id
    int64 id = 1;
    // 名称
    string name = 2;
    // 状态
    bool status = 3;
    // 创建时间
    string create_at = 4[json_name = "created_at"];
    // 更新时间
    string update_at = 5[json_name = "updated_at"];
}

// 响应 - 分页
message  GetExampleListPageRes {
    // 总数
    int64 total = 1;
    // 列表
    repeated Example list = 2;
}

// 请求 - 分页列表
message  GetExampleListReq {
    // 主键id
    int64 page = 1 [
        (validate.rules).int64.gt = 0
    ];

    // 页记录数
    int64 pageSize = 2 [
        (validate.rules).int64.gt = 0
    ];

    // 名称
    string name = 3;
    // 状态 true正常 false冻结
	google.protobuf.BoolValue status = 4;
}

// 请求 - 主键id
message ExampleIdReq {
    // 主键id
    int64 id = 1;
}

// 响应 - 检查是否处理成功
message CheckResponse {
    bool success = 1;
}